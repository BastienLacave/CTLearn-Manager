IrfEventSelector:
  overwrite: True

PointSourceSensitivityOptimizer:  
  max_gh_cut_efficiency: 1.0
  gh_cut_efficiency_step: 0.01
  initial_gh_cut_efficency: 0.4
  reco_energy_min: 0.01 TeV
  reco_energy_max: 500 TeV
  reco_energy_n_bins_per_decade: 5

GhPercentileCutCalculator:  
  target_percentile: 70
  min_counts: 200

ThetaPercentileCutCalculator:
  theta_max_angle: 0.3 deg
  theta_fill_value: 0.3 deg
  min_counts: 20
  smoothing: null

IrfTool:
  overwrite: True

DefaultTrueEnergyBins:
  true_energy_min: 0.05 TeV # 0.001 TeV
  true_energy_max: 500 TeV # 10000 TeV
  true_energy_n_bins_per_decade: 10

DefaultRecoEnergyBins:
  reco_energy_min: 0.05 TeV # 0.01259 TeV
  reco_energy_max: 500 TeV # 199.526 TeV
  reco_energy_n_bins_per_decade: 5

DefaultFoVOffsetBins:
  fov_offset_min: 0.0 deg
  fov_offset_max: 5.0 deg
  fov_offset_n_bins: 1

EffectiveArea2dMaker:
  # true_energy_min: 0.005 TeV
  # true_energy_max: 199.06 TeV
  true_energy_min: 0.05 TeV # 0.001 TeV
  true_energy_max: 500 TeV # 10000 TeV
  true_energy_n_bins_per_decade: 10

EnergyDispersion2dMaker:
  energy_migration_min: 0.0
  energy_migration_max: 3.0
  energy_migration_n_bins: 301
  energy_migration_linear_bins: True
  true_energy_min: 0.05 TeV # 0.001 TeV
  true_energy_max: 500 TeV # 10000 TeV
  true_energy_n_bins_per_decade: 43


Psf3dMaker:
  true_energy_min: 0.05 TeV
  true_energy_max: 500 TeV
  true_energy_n_bins_per_decade: 5
  source_offset_min: 0 deg
  source_offset_max: 6 deg
  source_offset_n_bins: 1

BackgroundRate2dMaker:
  reco_energy_min: 0.05 TeV
  reco_energy_max: 500 TeV
  reco_energy_n_bins_per_decade: 5

Sensitivity2dMaker:
  fov_offset_min: 0.0 deg
  fov_offset_max: 5.0 deg
  fov_offset_n_bins: 1

EventPreProcessor:
  energy_reconstructor: "CTLearn"
  gammaness_classifier: "CTLearn"
  geometry_reconstructor: "CTLearn"
  quality_criteria:
    - ["multiplicity", "np.count_nonzero(CTLearn_telescopes,axis=1) == 2"]
    - ["valid classifier", "CTLearn_is_valid"]
    - ["valid geom reco", "CTLearn_is_valid"]
    - ["valid energy reco", "CTLearn_is_valid"]